<!DOCTYPE html>  <html> <head>   <title>templates.js</title>   <meta http-equiv="content-type" content="text/html; charset=UTF-8">   <link rel="stylesheet" media="all" href="docco.css" /> </head> <body>   <div id="container">     <div id="background"></div>            <div id="jump_to">         Jump To &hellip;         <div id="jump_wrapper">           <div id="jump_page">                                           <a class="source" href="abapp.html">                 abapp.js               </a>                                           <a class="source" href="abmessage.html">                 abmessage.js               </a>                                           <a class="source" href="app.html">                 app.js               </a>                                           <a class="source" href="compiler.html">                 compiler.js               </a>                                           <a class="source" href="def.html">                 def.js               </a>                                           <a class="source" href="euwindow.html">                 euwindow.js               </a>                                           <a class="source" href="faye_ext.html">                 faye_ext.js               </a>                                           <a class="source" href="handlebars.html">                 handlebars.js               </a>                                           <a class="source" href="lowpro.html">                 lowpro.js               </a>                                           <a class="source" href="managers.html">                 managers.js               </a>                                           <a class="source" href="mustache.html">                 mustache.js               </a>                                           <a class="source" href="protoaculous.min.html">                 protoaculous.min.js               </a>                                           <a class="source" href="prototype.html">                 prototype.js               </a>                                           <a class="source" href="prototype.s2.min.html">                 prototype.s2.min.js               </a>                                           <a class="source" href="sha1.html">                 sha1.js               </a>                                           <a class="source" href="templates.html">                 templates.js               </a>                        </div>         </div>       </div>          <table cellpadding="0" cellspacing="0">       <thead>         <tr>           <th class="docs">             <h1>               templates.js             </h1>           </th>           <th class="code">           </th>         </tr>       </thead>       <tbody>                               <tr id="section-1">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-1">&#182;</a>               </div>                            </td>             <td class="code">               <div class="highlight"><pre><span class="nx">EUWindowArchive</span> <span class="o">=</span> <span class="p">{</span>
	<span class="s1">&#39;channel:create&#39;</span> <span class="o">:</span> <span class="p">{</span>
		<span class="nx">template</span><span class="o">:</span> <span class="s2">&quot;&lt;div class=&#39;widget full&#39;&gt;&lt;form action=&#39;/channels&#39; method=&#39;post&#39; class=&#39;via_publisher&#39;&gt;&lt;h2&gt;Create a Channel&lt;/h2&gt;&lt;input type=&#39;text&#39; name=&#39;channel[name]&#39; placeholder=&#39;Channel Name (red, purple, yellow)&#39; /&gt;&lt;input type=&#39;text&#39; name=&#39;channel[allowed_users]&#39; placeholder=&#39;Allowed Users (@jon, @susan, @smith)&#39; /&gt;&lt;p class=&#39;action_bar&#39;&gt;&lt;input type=&#39;submit&#39; value=&#39;Submit&#39;/&gt;&lt;input type=&#39;button&#39; class=&#39;button-nevermind&#39; value=&#39;Nevermind&#39; /&gt;&lt;/p&gt;&lt;/form&gt;&lt;/div&gt;&quot;</span><span class="p">,</span>
		<span class="nx">options</span><span class="o">:</span> <span class="p">{</span>
			<span class="nx">onSubmit</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">){</span>
			  <span class="nx">Event</span><span class="p">.</span><span class="nx">stop</span><span class="p">(</span><span class="nx">event</span><span class="p">);</span>
        <span class="kd">var</span> <span class="nx">el</span> <span class="o">=</span> <span class="nx">event</span><span class="p">.</span><span class="nx">findElement</span><span class="p">(</span><span class="s1">&#39;form&#39;</span><span class="p">);</span>
        <span class="kd">var</span> <span class="nx">channel</span> <span class="o">=</span> <span class="nx">el</span><span class="p">.</span><span class="nx">down</span><span class="p">(</span><span class="s1">&#39;input[name=channel[name]]&#39;</span><span class="p">).</span><span class="nx">value</span>
        <span class="nx">el</span><span class="p">.</span><span class="nx">up</span><span class="p">(</span><span class="s1">&#39;.EUWindow&#39;</span><span class="p">).</span><span class="nx">fade</span><span class="p">();</span>
        <span class="nx">el</span><span class="p">.</span><span class="nx">request</span><span class="p">({</span>
          <span class="nx">parameters</span><span class="o">:</span> <span class="p">{</span><span class="nx">userid</span><span class="o">:</span> <span class="nx">ABApp</span><span class="p">.</span><span class="nx">sharedStorageManager</span><span class="p">().</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;userid&#39;</span><span class="p">),</span> <span class="nx">token</span><span class="o">:</span> <span class="nx">ABApp</span><span class="p">.</span><span class="nx">sharedStorageManager</span><span class="p">().</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;token&#39;</span><span class="p">),</span> <span class="nx">owner</span><span class="o">:</span> <span class="nx">ABApp</span><span class="p">.</span><span class="nx">sharedStorageManager</span><span class="p">().</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;username&#39;</span><span class="p">)},</span>
          <span class="nx">onSuccess</span><span class="o">:</span> <span class="kd">function</span><span class="p">(){</span>
            <span class="nx">ABApp</span><span class="p">.</span><span class="nx">channels</span><span class="p">[</span><span class="nx">channel</span><span class="p">]</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">SubscriptionManager</span><span class="p">([</span><span class="nx">channel</span><span class="p">]).</span><span class="nx">createTracker</span><span class="p">().</span><span class="nx">createStreamContainer</span><span class="p">().</span><span class="nx">remember</span><span class="p">().</span><span class="nx">addBehavior</span><span class="p">(</span><span class="s1">&#39;popstream&#39;</span><span class="p">);</span>
            <span class="nx">EUWindow</span><span class="p">.</span><span class="nx">destroyWindow</span><span class="p">(</span><span class="nx">el</span><span class="p">.</span><span class="nx">up</span><span class="p">(</span><span class="s1">&#39;.EUWindow&#39;</span><span class="p">));</span>
          <span class="p">},</span>
          <span class="nx">onFailure</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">transport</span><span class="p">){</span>
            <span class="nx">el</span><span class="p">.</span><span class="nx">up</span><span class="p">(</span><span class="s1">&#39;.EUWindow&#39;</span><span class="p">).</span><span class="nx">appear</span><span class="p">();</span>
            <span class="k">new</span> <span class="nx">ABMessage</span><span class="p">(</span><span class="nx">transport</span><span class="p">.</span><span class="nx">responseText</span><span class="p">,</span> <span class="p">{</span><span class="nx">type</span><span class="o">:</span><span class="s1">&#39;error&#39;</span><span class="p">});</span>
          <span class="p">}</span>
        <span class="p">})</span>
			<span class="p">}</span>
		<span class="p">}</span>
	<span class="p">},</span>
	<span class="s1">&#39;channel:sidebar&#39;</span> <span class="o">:</span> <span class="p">{</span>
		<span class="nx">template</span><span class="o">:</span> <span class="s2">&quot;&lt;div class=&#39;widget full&#39;&gt;&lt;form action=&#39;/channel/sidebar&#39; class=&#39;via_publisher&#39;&gt;&lt;h2&gt;Time for a Sidebar?&lt;/h2&gt;&lt;p&gt;You can invite people to sidebars, but they&#39;re also public, it&#39;s just like walking off to the side of the room.&lt;/p&gt;&lt;section&gt;&lt;input type=&#39;text&#39; name=&#39;channel[name]&#39; placeholder=&#39;Topic&#39; /&gt;&lt;input type=&#39;text&#39; name=&#39;channel[allowed_users]&#39; placeholder=&#39;People to invite (jon, susan, smith)&#39; /&gt;&lt;/section&gt;&lt;p class=&#39;action_bar&#39;&gt;&lt;input type=&#39;button&#39; class=&#39;button-nevermind&#39; value=&#39;Nevermind&#39; /&gt;&lt;input type=&#39;submit&#39; value=&#39;Start Sidebar&#39;/&gt;&lt;/p&gt;&lt;/form&gt;&lt;/div&gt;&quot;</span><span class="p">,</span>
		<span class="nx">options</span><span class="o">:</span> <span class="p">{</span>
			<span class="nx">onSubmit</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">){</span>
			  <span class="nx">Event</span><span class="p">.</span><span class="nx">stop</span><span class="p">(</span><span class="nx">event</span><span class="p">);</span>
			  <span class="kd">var</span> <span class="nx">el</span> <span class="o">=</span> <span class="nx">event</span><span class="p">.</span><span class="nx">element</span><span class="p">();</span>
			  <span class="kd">var</span> <span class="nx">name</span> <span class="o">=</span> <span class="nx">el</span><span class="p">.</span><span class="nx">down</span><span class="p">(</span><span class="s2">&quot;input[name=channel[name]]&quot;</span><span class="p">).</span><span class="nx">value</span><span class="p">;</span>
				<span class="kd">var</span> <span class="nx">members</span> <span class="o">=</span> <span class="nx">el</span><span class="p">.</span><span class="nx">down</span><span class="p">(</span><span class="s2">&quot;input[name=channel[allowed_users]]&quot;</span><span class="p">).</span><span class="nx">value</span>
        <span class="nx">ABApp</span><span class="p">.</span><span class="nx">channels</span><span class="p">[</span><span class="nx">name</span><span class="p">]</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">SidebarManager</span><span class="p">([</span><span class="nx">name</span><span class="p">]).</span><span class="nx">remember</span><span class="p">()</span></pre></div>             </td>           </tr>                               <tr id="section-2">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-2">&#182;</a>               </div>               <p>Register a tracker element for the channel.</p>             </td>             <td class="code">               <div class="highlight"><pre>																										     <span class="p">.</span><span class="nx">createTracker</span><span class="p">()</span></pre></div>             </td>           </tr>                               <tr id="section-3">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-3">&#182;</a>               </div>               <p>This creates an element from an HBS template that handles the streams.</p>             </td>             <td class="code">               <div class="highlight"><pre>																										     <span class="p">.</span><span class="nx">createStreamContainer</span><span class="p">()</span>
																												 <span class="p">.</span><span class="nx">addBehavior</span><span class="p">(</span><span class="s1">&#39;popstream&#39;</span><span class="p">);</span>
				<span class="nx">EUWindow</span><span class="p">.</span><span class="nx">destroyWindow</span><span class="p">(</span><span class="nx">el</span><span class="p">.</span><span class="nx">up</span><span class="p">(</span><span class="s2">&quot;.EUWindow&quot;</span><span class="p">));</span>         
				<span class="k">new</span> <span class="nx">Ajax</span><span class="p">.</span><span class="nx">Request</span><span class="p">(</span><span class="s2">&quot;/channels/sidebar&quot;</span><span class="p">,</span> <span class="p">{</span>
					 	<span class="nx">params</span><span class="o">:</span> <span class="p">{</span><span class="nx">name</span><span class="o">:</span> <span class="nx">name</span><span class="p">,</span> 
										 <span class="nx">members</span><span class="o">:</span> <span class="nx">members</span><span class="p">,</span>
										 <span class="nx">userid</span><span class="o">:</span> <span class="nx">ABApp</span><span class="p">.</span><span class="nx">sharedStorageManager</span><span class="p">().</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;userid&#39;</span><span class="p">),</span>
										 <span class="nx">token</span><span class="o">:</span> <span class="nx">ABApp</span><span class="p">.</span><span class="nx">sharedStorageManager</span><span class="p">().</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;token&#39;</span><span class="p">)},</span>
						<span class="nx">onSuccess</span><span class="o">:</span> <span class="kd">function</span><span class="p">(){</span>
							<span class="k">new</span> <span class="nx">ABMessage</span><span class="p">(</span><span class="s2">&quot;Invitations sent.&quot;</span><span class="p">);</span>
						<span class="p">},</span>
						<span class="nx">onFailure</span><span class="o">:</span> <span class="kd">function</span><span class="p">(){</span>
							<span class="k">new</span> <span class="nx">ABMessage</span><span class="p">(</span><span class="s2">&quot;Your channel could not be secured.&quot;</span><span class="p">,</span> <span class="p">{</span><span class="nx">type</span><span class="o">:</span><span class="s1">&#39;error&#39;</span><span class="p">});</span>
						<span class="p">}</span>
				<span class="p">});</span>
			<span class="p">}</span>
		<span class="p">}</span>
	<span class="p">},</span>
	<span class="s1">&#39;channel:join&#39;</span> <span class="o">:</span> <span class="p">{</span>
		<span class="nx">template</span><span class="o">:</span> <span class="s2">&quot;&lt;div class=&#39;widget full&#39;&gt;&lt;form action=&#39;/channel/join&#39; class=&#39;via_publisher&#39;&gt;&lt;h2&gt;Join a Channel&lt;/h2&gt;&lt;p&gt;Pins a channel to your ramblobar.&lt;/p&gt;&lt;section&gt;&lt;input type=&#39;text&#39; name=&#39;channel[name]&#39; placeholder=&#39;Channel Name (red, purple, yellow)&#39; value=&#39;{{channel}}&#39;/&gt;&lt;/section&gt;&lt;p class=&#39;action_bar&#39;&gt;&lt;input type=&#39;button&#39; class=&#39;button-nevermind&#39; value=&#39;Nevermind&#39; /&gt;&lt;input type=&#39;submit&#39; value=&#39;Join Channel&#39;/&gt;&lt;/p&gt;&lt;/form&gt;&lt;/div&gt;&quot;</span><span class="p">,</span>
		<span class="nx">options</span><span class="o">:</span> <span class="p">{</span>
			<span class="nx">onSubmit</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">){</span>
				<span class="nx">Event</span><span class="p">.</span><span class="nx">stop</span><span class="p">(</span><span class="nx">event</span><span class="p">);</span> 
				<span class="kd">var</span> <span class="nx">el</span> <span class="o">=</span> <span class="nx">event</span><span class="p">.</span><span class="nx">findElement</span><span class="p">(</span><span class="s1">&#39;form&#39;</span><span class="p">);</span>
				<span class="kd">var</span> <span class="nx">channel</span> <span class="o">=</span> <span class="nx">el</span><span class="p">.</span><span class="nx">down</span><span class="p">(</span><span class="s2">&quot;input[type=text]&quot;</span><span class="p">).</span><span class="nx">value</span><span class="p">;</span>
				<span class="nx">ABApp</span><span class="p">.</span><span class="nx">channels</span><span class="p">[</span><span class="nx">channel</span><span class="p">]</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">SubscriptionManager</span><span class="p">([</span><span class="nx">channel</span><span class="p">]);</span>
				<span class="nx">EUWindow</span><span class="p">.</span><span class="nx">destroyWindow</span><span class="p">(</span><span class="nx">el</span><span class="p">.</span><span class="nx">up</span><span class="p">(</span><span class="s2">&quot;.EUWindow&quot;</span><span class="p">));</span>
        <span class="nx">ABApp</span><span class="p">.</span><span class="nx">channels</span><span class="p">[</span><span class="nx">channel</span><span class="p">].</span><span class="nx">createTracker</span><span class="p">()</span>
                               <span class="p">.</span><span class="nx">createStreamContainer</span><span class="p">()</span>
                               <span class="p">.</span><span class="nx">remember</span><span class="p">()</span>
                               <span class="p">.</span><span class="nx">addBehavior</span><span class="p">(</span><span class="s1">&#39;popstream&#39;</span><span class="p">);</span>
			<span class="p">}</span>
		<span class="p">}</span>
	<span class="p">}</span>
<span class="p">};</span>  

<span class="nx">EUTemplateArchive</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">&#39;stream_container&#39;</span><span class="o">:</span> <span class="p">{</span>
    <span class="cm">/*classNames: [&#39;messages&#39;, &#39;popup_stream&#39;],</span>
<span class="cm">    type: &#39;div&#39;,</span>
<span class="cm">    style: &#39;display:none&#39;,*/</span>
    <span class="nx">template</span><span class="o">:</span> <span class="s2">&quot;&lt;div class=&#39;messages popup_stream&#39; data-channel=&#39;{{channel}}&#39; style=&#39;display:none&#39;&gt;{{contents}}&lt;p class=&#39;command&#39;&gt;&lt;a class=&#39;pull&#39; href=&#39;/{{channel}}&#39;&gt;Load More&lt;/a&gt; &lt;a class=&#39;focus minor&#39; href=&#39;/{{channel}}&#39;&gt;Focus&lt;/a&gt; &lt;a class=&#39;leave minor&#39; href=&#39;/{{channel}}&#39;&gt;Leave&lt;/a&gt;&lt;/p&gt;&quot;</span>
  <span class="p">}</span> 
<span class="p">}</span>     

<span class="nx">EUTemplateWaker</span> <span class="o">=</span> <span class="p">{}</span>
<span class="nx">EUTemplateWaker</span><span class="p">.</span><span class="nx">wake</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="nx">data</span><span class="p">){</span>
	<span class="kd">var</span> <span class="nx">archive</span> <span class="o">=</span> <span class="nx">EUTemplateArchive</span><span class="p">[</span><span class="nx">name</span><span class="p">];</span> 
	<span class="k">if</span> <span class="p">(</span><span class="nx">archive</span> <span class="o">===</span> <span class="kc">undefined</span><span class="p">){</span>
	  <span class="k">throw</span><span class="p">(</span><span class="s2">&quot;EUTemplateWaker: no template by name of &quot;</span> <span class="o">+</span> <span class="nx">name</span> <span class="o">+</span> <span class="s2">&quot; was found&quot;</span><span class="p">);</span>
		<span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
	<span class="p">}</span>
	<span class="kd">var</span> <span class="nx">compiled_template</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">name</span><span class="p">){</span>
		<span class="k">if</span> <span class="p">(</span><span class="nx">archive</span><span class="p">.</span><span class="nx">_template</span><span class="o">===</span><span class="kc">undefined</span><span class="p">){</span>
			<span class="nx">archive</span><span class="p">.</span><span class="nx">_template</span> <span class="o">=</span> <span class="nx">Handlebars</span><span class="p">.</span><span class="nx">compile</span><span class="p">(</span><span class="nx">archive</span><span class="p">.</span><span class="nx">template</span><span class="p">);</span>
		<span class="p">}</span>                                                                                                          
		<span class="k">return</span> <span class="nx">archive</span><span class="p">.</span><span class="nx">_template</span><span class="p">;</span>
	<span class="p">}</span>
	<span class="kd">var</span> <span class="nx">hbs</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="nx">data</span><span class="p">){</span>
  	<span class="k">return</span> <span class="nx">compiled_template</span><span class="p">(</span><span class="nx">name</span><span class="p">)(</span><span class="nx">data</span><span class="p">);</span>
	<span class="p">}</span>                      
	<span class="cm">/*var el = new Element(archive.type, {&#39;class&#39;:archive.classNames.join(&quot; &quot;), &#39;style&#39;:archive.style});</span>
<span class="cm">	document.body.appendChild(el.update(hbs(name, data)));*/</span>
	<span class="kd">var</span> <span class="nx">el_outer</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Element</span><span class="p">(</span><span class="s1">&#39;div&#39;</span><span class="p">).</span><span class="nx">update</span><span class="p">(</span><span class="nx">hbs</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="nx">data</span><span class="p">));</span>
	<span class="kd">var</span> <span class="nx">el</span> <span class="o">=</span> <span class="nx">el_outer</span><span class="p">.</span><span class="nx">down</span><span class="p">(</span><span class="s1">&#39;div&#39;</span><span class="p">);</span>
	<span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">insert</span><span class="p">(</span><span class="nx">el</span><span class="p">);</span>
	<span class="nx">setTimeout</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
	  <span class="nx">Event</span><span class="p">.</span><span class="nx">addBehavior</span><span class="p">.</span><span class="nx">reload</span><span class="p">();</span>
	<span class="p">},</span> <span class="mi">1</span><span class="p">);</span>
	<span class="k">return</span> <span class="nx">el</span><span class="p">;</span>
<span class="p">}</span>                       
               </pre></div>             </td>           </tr>                               <tr id="section-4">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-4">&#182;</a>               </div>               <h2>EUWindowWaker</h2>

<p>The EUWindowWaker creates instances of EUWindows from the EUWindowArchive. Uses Handlebars.js</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nx">EUWindowWaker</span> <span class="o">=</span> <span class="p">{};</span>
<span class="nx">EUWindowWaker</span><span class="p">.</span><span class="nx">wake</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="nx">data</span><span class="p">){</span>   
	<span class="kd">var</span> <span class="nx">archive</span> <span class="o">=</span> <span class="nx">EUWindowArchive</span><span class="p">[</span><span class="nx">name</span><span class="p">];</span> 
	<span class="k">if</span> <span class="p">(</span><span class="nx">archive</span> <span class="o">===</span> <span class="kc">undefined</span><span class="p">){</span>
		<span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
	<span class="p">}</span>
	<span class="kd">var</span> <span class="nx">compiled_template</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">name</span><span class="p">){</span>
		<span class="k">if</span> <span class="p">(</span><span class="nx">archive</span><span class="p">.</span><span class="nx">_template</span><span class="o">===</span><span class="kc">undefined</span><span class="p">){</span>
			<span class="nx">archive</span><span class="p">.</span><span class="nx">_template</span> <span class="o">=</span> <span class="nx">Handlebars</span><span class="p">.</span><span class="nx">compile</span><span class="p">(</span><span class="nx">archive</span><span class="p">.</span><span class="nx">template</span><span class="p">);</span>
		<span class="p">}</span>                                                                                                          
		<span class="k">return</span> <span class="nx">archive</span><span class="p">.</span><span class="nx">_template</span><span class="p">;</span>
	<span class="p">}</span>
	<span class="kd">var</span> <span class="nx">hbs</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="nx">data</span><span class="p">){</span>
  	<span class="k">return</span> <span class="nx">compiled_template</span><span class="p">(</span><span class="nx">name</span><span class="p">)(</span><span class="nx">data</span><span class="p">);</span>
	<span class="p">}</span>                      
	<span class="kd">var</span> <span class="nx">_eu</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">EUWindow</span><span class="p">(</span><span class="nx">archive</span><span class="p">.</span><span class="nx">options</span><span class="p">);</span>
	<span class="nx">output</span> <span class="o">=</span> <span class="nx">hbs</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span><span class="nx">data</span><span class="p">);</span>
	<span class="k">return</span> <span class="nx">_eu</span><span class="p">.</span><span class="nx">updateInPlace</span><span class="p">(</span><span class="nx">output</span><span class="p">).</span><span class="nx">insert</span><span class="p">();</span> 
<span class="p">}</span>


<span class="cm">/*var source = &quot;&lt;p&gt;Hello, my name is {{name}}. I am from {{hometown}}. I have &quot; + </span>
<span class="cm">    &quot;{{kids/length}} kids:&lt;/p&gt;&quot; +</span>
<span class="cm">    &quot;&lt;ul&gt;{{#kids}}&lt;li&gt;{{name}} is {{age}}&lt;/li&gt;{{/kids}}&lt;/ul&gt;&quot;;</span>
<span class="cm">var template = Handlebars.compile(source);</span>

<span class="cm">var data = { &quot;name&quot;: &quot;Alan&quot;, &quot;hometown&quot;: &quot;Somewhere, TX&quot;,</span>
<span class="cm">              &quot;kids&quot;: [{&quot;name&quot;: &quot;Jimmy&quot;, &quot;age&quot;: &quot;12&quot;}, {&quot;name&quot;: &quot;Sally&quot;, &quot;age&quot;: &quot;4&quot;}]};</span>
<span class="cm">var result = template(data);*/</span>

</pre></div>             </td>           </tr>                </tbody>     </table>   </div> </body> </html> 